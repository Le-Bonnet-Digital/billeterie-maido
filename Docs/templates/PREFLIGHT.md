# PREFLIGHT — Sprint S<N>

## 1) Contexte

* **Sprint**: S<N>
* **Date**: …
* **Objectif**: audit existant avant implémentation

## 2) Code audit

* Doublons détectés: …
* Code mort/obsolète: …
* Refactors simples (≤ timebox): …

## 3) DB audit

* Tables/colonnes: …
* RLS/policies: …
* Fonctions/procédures: …
* Index/contraintes: …

## 4) Migrations

* Nouvelles migrations prévues: …
* Rollback: …
* **Application**: par le PO après merge (ChatGPT ne lance pas la CLI DB)

## 5) Schéma SQL (`schema.sql`)

* **RefreshedAt**: YYYY-MM-DDThh\:mm\:ss±TZ
* Ou justification `unchanged`: …

## 6) Sécurité

* Validation entrées: …
* Secrets: …
* Policies RLS: …

## 7) Observabilité

* Logs structurés: …
* Tracing/Correlation: …

## 8) Plan d’action ≤ timebox

* Nettoyage/refactor immédiat: …
* Actions différées (ticket backlog): …

---

> ⚠️ Ce fichier doit être complété **au début du sprint**. Les hooks Husky bloquent le commit si `schema.sql` n’est pas **rafraîchi** ou noté `unchanged` justifié.
